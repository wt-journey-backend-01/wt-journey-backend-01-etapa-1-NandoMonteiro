<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <title>DevBurger - Cardápio</title>
    <link rel="stylesheet" href="/css/style.css" />
  </head>
  <body>
    <h1>DevBurger</h1>
    <h3>Seu código, seu sabor!</h3>
    <h2>Cardápio</h2>
    <div id="menu"></div>
    <hr />
    <h2>Sugira um novo lanche</h2>
    <form action="/sugestao" method="get">
      <label for="nome">Nome do lanche:</label>
      <input type="text" id="nome" name="nome" required />
      <br />
      <label for="ingredientes">Ingredientes:</label>
      <textarea id="ingredientes" name="ingredientes" required></textarea>
      <br />
      <button type="submit">Enviar sugestão</button>
    </form>
    <br />
    <a href="/contato">Contato</a> |
    <a href="/api/lanches">Ver API dos Lanches</a>

    <script>
      fetch("/api/lanches")
        .then((res) => res.json())
        .then((data) => {
          document.getElementById("menu").innerHTML = data
            .map(
              (l) => `<div><strong>${l.nome}</strong>: ${l.ingredientes}</div>`
            )
            .join("")
        })
    </script>
  </body>
</html>